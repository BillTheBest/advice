<html>
<head>
    <script src="lib/jquery.js" type="text/javascript"></script>
    <script src="../bower_components/lodash/dist/lodash.js" type="text/javascript"></script>
    <script src="lib/backbone.js" type="text/javascript"></script>
    <script src="../bower_components/mutation/mutation.js" type="text/javascript"></script>
    <script src="../advice.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">

    // Add advice to the views in our framework
    Advice.addAdvice(Backbone.View);

    // Define our click mixin
    var clickMixin = function(options) {

        this.addToObj({
            events: {
                "click": "clickHandler"
            }
        });
        this.after({
            clickHandler: function() {
                alert(this.name + ' was clicked');
            }
        })
    };
    // Define our logging mixin
    var loggingMixin = function(options) {
        this.after({
            clickHandler: function() {
                alert(this.name + ' was logged');
            }
        })
    };
    // Define the constructor for our first button type
    var Buttons1 = Backbone.View.extend({
        tagName: 'button',
        name: 'Button 1',
        render: function() {
            this.$el.html(this.name);
            return this;
        }
    })
            .mixin([clickMixin, loggingMixin]);

    // Define the constructor for our second button type
    var Buttons2 = Backbone.View.extend({
        tagName: 'button',
        template: 'Button 2',
        name: 'Button 2',
        render: function() {
            this.$el.html(this.name);
            return this;
        }
    })
            .mixin(clickMixin);

    //Instantiate our buttons
    var btn1 = new Buttons1();
    var btn2 = new Buttons2();

    //Add our buttons to the page
    $(document.body).append(btn1.render().el);
    $(document.body).append(btn2.render().el);

</script>
</body>
</html>